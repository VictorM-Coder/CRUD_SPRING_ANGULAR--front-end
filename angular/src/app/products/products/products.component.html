

<div class="body-general">
  <!--ADD and REMOVE-->
  <mat-card>
    <mat-toolbar class="primary">
      <span>Product</span>

      <div class="margin-left-auto form-input form-item">
        <input id="inputRemoveBarCode" #inputSearch type="text" class="dds__form-control" placeholder="BarCode" maxlength="256">
      </div>

      <button (click)="searchProduct()" class="form-item" role="button" type="button" class="dds__btn dds__btn-secondary dds__text-truncate">SEARCH</button>

    </mat-toolbar>

    <div class="form-input form-item">
      <label for="exampleFormControlSelect3">CRUD Mode</label>
      <select #inputSelect (change)="changeFormMode()" [value]="'create'" class="dds__form-control" id="exampleFormControlSelect3">
        <option value="update">Update</option>
        <option value="create">Create</option>
        <option value="view">View</option>
      </select>
    </div>

    <div class="dds__form-group">
      <div class="form-input form-item">
        <label for="name-1">Product's name</label>
        <input #inputName type="text" class="dds__form-control" placeholder="Name" maxlength="256" name="name-1" id="name-3">
      </div>

      <div class="form-input form-item">
        <label for="name-2">Product's Bar Code</label>
        <input #inputBarCode type="text" class="dds__form-control" placeholder="BarCode" maxlength="256" name="name-2" id="name-3">
      </div>

      <div class="form-input form-item">
        <label for="name-3">Product's Price</label>
        <input #inputPrice type="number" min="0" class="dds__form-control" placeholder="Price" maxlength="256" name="name-3" id="name-3">
      </div>

    </div>

    <p>
        <button
          (click) = "(inputSelect.value === 'create') ? postProduct(): updateProduct()"
          [innerText]="(inputSelect.value === 'create') ? 'ADD': 'UPDATE'"
          [disabled]="(inputSelect.value === 'view')"
          role="button" type="button" class="form-item dds__btn dds__btn-primary dds__text-truncate">
          ADD
        </button>

        <button
          [disabled]="(inputSelect.value === 'create')" (click)="removeProduct()"
          role="button" type="button" class="form-item dds__btn dds__btn-primary dds__text-truncate">
          REMOVE
        </button>
    </p>

  </mat-card>


  <!--TABLE-->
  <mat-card class="table-card">
    <mat-toolbar class="primary">
      <span>Products</span>
    </mat-toolbar>
    <table #cdkTable cdk-table [dataSource]="products">
      <!-- Name Column -->
      <ng-container cdkColumnDef="name">
        <th cdk-header-cell *cdkHeaderCellDef> Name </th>
        <td cdk-cell *cdkCellDef="let product"> {{product.name}} </td>
      </ng-container>

      <!-- barCode Column -->
      <ng-container cdkColumnDef="barCode">
        <th cdk-header-cell *cdkHeaderCellDef> Bar Code </th>
        <td cdk-cell *cdkCellDef="let product"> {{product.barCode}} </td>
      </ng-container>

      <!-- Price Column -->
      <ng-container cdkColumnDef="price">
        <th cdk-header-cell *cdkHeaderCellDef> Price </th>
        <td cdk-cell *cdkCellDef="let product"> {{product.price}} </td>
      </ng-container>

      <tr cdk-header-row *cdkHeaderRowDef="displayedColumns"></tr>
      <tr cdk-row *cdkRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </mat-card>
</div>
